!function e(t,r,n){function o(s,l){if(!r[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[s]={exports:{}};t[s][0].call(u.exports,function(e){var r=t[s][1][e];return o(r?r:e)},u,u.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){"use strict";var n=e("./pcpClass");!function(e){e.PCP=n.PCP}(window)},{"./pcpClass":2}],2:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r,o){n(this,e),this._listenerList={},this._setDomId(t),this._initUI(r,o)}return o(e,[{key:"_initUI",value:function(e,t){var r=document.createElement("ul"),n=document.createElement("ul"),o=document.getElementById(this.getDomId());r.classList.add("pcp-palette"),n.classList.add("pcp-selector"),o.appendChild(r),o.appendChild(n),this.setPaletteColors(e),this.setSelectorColors(t)}},{key:"_setDomId",value:function(e){if("string"!=typeof e)throw new TypeError("parameter domId should be type of string: "+e);this._domIdString=e}},{key:"getDomId",value:function(){return this._domIdString}},{key:"setPaletteColors",value:function(e){var t=this;if(!(e instanceof Array))throw new TypeError("parameter colors should be type of array: "+e);var r=document.querySelector("#"+this.getDomId()+" .pcp-palette");r.innerHTML="",this._paletteColorList=[],e.forEach(function(e){var n=t._makeColorEle(e);n.addEventListener("click",t._paletteEvent.bind(t)),t._paletteColorList.push(n),r.appendChild(n)})}},{key:"getPaletteColors",value:function(){return this._parseColorUi(this._paletteColorList)}},{key:"setSelectorColors",value:function(e){var t=this;if(!(e instanceof Array))throw new TypeError("parameter colors should be type of array: "+e);var r=document.querySelector("#"+this.getDomId()+" .pcp-selector");r.innerHTML="",this._selectorColorList=[],e.forEach(function(e){var n=t._makeColorEle(e);n.addEventListener("click",t._selectorEvent.bind(t)),t._selectorColorList.push(n),r.appendChild(n)})}},{key:"getSelectorColors",value:function(){return this._parseColorUi(this._selectorColorList)}},{key:"addEventListener",value:function(e,t){if("undefined"===t||null===t||"string"!=typeof t)throw new TypeError("parameter name should be type of string: "+t);this._listenerList[t]=e}},{key:"removeEventListener",value:function(e){delete this._listenerList[e]}},{key:"_notifyListener",value:function(e){for(var t in this._listenerList)this._listenerList[t](e)}},{key:"_makeColorEle",value:function(t){var r=document.createElement("li"),n=document.createElement("span");return t.color===e.COLOR_NONE?r.classList.toggle(e.COLOR_NONE):r.style.backgroundColor=t.color,n.appendChild(document.createTextNode(t.name)),r.appendChild(n),r}},{key:"_paletteEvent",value:function(e){var t=document.querySelectorAll("#"+this.getDomId()+" .pcp-palette li"),r=e.currentTarget.classList.contains("current-selection");Array.prototype.forEach.call(t,function(e){e.classList.remove("current-selection")}),r?e.currentTarget.classList.remove("current-selection"):e.currentTarget.classList.add("current-selection")}},{key:"_selectorEvent",value:function(t){var r=document.querySelector("#"+this.getDomId()+" .pcp-palette .current-selection"),n=t.currentTarget.style.backgroundColor;if(r){r.className=t.currentTarget.className,r.classList.add("current-selection"),r.style.backgroundColor=n,n=t.currentTarget.classList.contains(e.COLOR_NONE)?e.COLOR_NONE:n;var o=this._paletteColorList.indexOf(r);this._notifyListener({index:o,color:n})}}},{key:"_parseColorUi",value:function(t){var r=[];return t.forEach(function(t){var n={},o=t.classList.contains(e.COLOR_NONE)?e.COLOR_NONE:t.style.backgroundColor,i=t.childNodes[0].innerText||t.childNodes[0].textContent;n.color=o,n.name=i,r.push(n)}),r}}],[{key:"COLOR_NONE",get:function(){return"color-none"}}]),e}();r.PCP=i},{}]},{},[1]);